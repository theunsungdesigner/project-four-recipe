(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,a){e.exports=a(71)},46:function(e,t,a){},64:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(12),l=a.n(i),r=(a(46),a(35)),o=a(13),s=a(7),p=a(8),u=a(10),d=a(9),m=a(11),h=a(5),f=a.n(h),g=(n.Component,a(64),a(39)),v=a(15),b=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={notes:[],newNotes:{recipeName:"",recipeNotes:"",url:"",imageId:"",recipeId:""}},a.handleInputChange=function(e){var t=Object(g.a)({},a.state.newNotes);t[e.target.name]=e.target.value,a.setState({newNotes:t})},a.bttnClick=function(e){e.preventDefault();var t=a.state.newNotes;f.a.post("/api/notepad",{recipeName:t.recipeName,recipeNotes:t.recipeNotes}).then(function(e){v.toast({html:"Recipe Note Saved"}),console.log(e),a.setState({newNotes:{recipeName:"",recipeNotes:""}})})},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){f.a.get("/api/notepad").then(function(e){console.log(e.data)})}},{key:"render",value:function(){return c.a.createElement("div",{className:"input-field"},c.a.createElement("form",{onSubmit:this.bttnClick},c.a.createElement("input",{className:"notepad-input",type:"text",name:"recipeName",maxLength:"40",placeholder:"Note Title",value:this.state.recipeName,onChange:this.handleInputChange}),c.a.createElement("input",{className:"notepad-input",type:"text",name:"recipeNotes",maxLength:"250",placeholder:"recipe-notes",value:this.state.recipeNotes,onChange:this.handleInputChange}),c.a.createElement("button",{type:"primary",onChange:this.handleInputChange},"Submit a personal note")))}}]),t}(n.Component),E=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={imageUrl:"",file:{url:"",type:"",recipeId:""}},a.handleInputChange=function(e){a.setState({imageUrl:e.target.value})},a.bttnClick=function(e){e.preventDefault();a.state.newUrl;f.a.post("/api/image",{url:a.state.imageUrl}).then(function(e){v.toast({html:"Image Saved"}),a.setState({file:{url:" "}}),console.log(e.data)})},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){f.a.get("/api/image").then(function(e){console.log(e.data)})}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("label",null,"image"),c.a.createElement("input",{className:"notepad-input",type:"file",name:"url2",placeholder:" upload image",value:"",onChange:this.handleInputChange}),c.a.createElement("input",{className:"notepad-input",type:"text",name:"url",placeholder:"image url",value:this.state.imageUrl,onChange:this.handleInputChange}),c.a.createElement("button",{onClick:this.bttnClick},"upload"))}}]),t}(n.Component),C=function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).call(this,e))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",null,this.props.selectedRecipe.title),c.a.createElement("h5",null,this.props.selectedRecipe.href),c.a.createElement("h5",null,this.props.selectedRecipe.ingredients),c.a.createElement("h5",null,c.a.createElement("a",{href:this.props.selectedRecipe.href,target:"_blank"},"Visit website")),c.a.createElement("button",{onClick:this.props.databasePost},"submit"))}}]),t}(n.Component),y=a(75),N="606eea9a4cmsh0af525fb3527557p1737cdjsne2c82d71eb0a",O=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={input:" ",ingredients:" ",recipeList:[],notepad:[],isModalOpen:!1,selectedRecipe:{title:"",ingredients:""}},a.fetchApi=function(e){e.preventDefault(),f()({method:"GET",url:"https://recipe-puppy.p.rapidapi.com/",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"recipe-puppy.p.rapidapi.com","x-rapidapi-key":"".concat(N)},params:{p:"1",i:"".concat(a.state.ingredients),q:"".concat(a.state.input)}}).then(function(e){console.log(e.data),a.setState({recipeList:e.data.results})}).catch(function(e){console.log(e)})},a.handleChange=function(e){a.setState({input:e.target.value})},a.handleOpen=function(){a.setState({isModalOpen:!0})},a.handleClose=function(){a.setState({isModalOpen:!1})},a.databasePost=function(e){f.a.post("api/singleRecipe/",a.state.selectedRecipe).then(function(e){v.toast({html:"Recipe Saved"})}).catch(function(e){v.toast({html:"there was an error!"})})},a.renderModal=function(){return c.a.createElement(y.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:a.state.isModalOpen,onClose:a.handleClose},c.a.createElement("div",{style:{background:"white"}},c.a.createElement(C,{databasePost:a.databasePost,selectedRecipe:a.state.selectedRecipe})))},a.saveRecipe=function(e){var t=e.target.getAttribute("data-index"),n=a.state.recipeList.find(function(e,n){n===parseInt(t)&&(a.state.recipeList[n].saved=!a.state.recipeList[n].saved,a.forceUpdate())});console.groupCollapsed("saved"),console.log(t),console.log(n),console.groupEnd()},a.selectRecipe=function(e){var t=e.target.getAttribute("data-index");a.state.recipeList.find(function(e,n){n===parseInt(t)&&(console.log(e),a.setState({selectedRecipe:e}))}),a.handleOpen()},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),e.target.reset()}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("h1",null," REACT RECIPES ")),c.a.createElement("div",null,c.a.createElement("form",{className:"apiForm ",onSubmit:this.fetchApi},c.a.createElement("input",{type:"text",name:"input",placeholder:"Recipe search here",value:this.state.input,onChange:this.handleChange}))),c.a.createElement("button",{onClick:this.fetchApi},"Recipe Search"),c.a.createElement(b,null),c.a.createElement(E,null),c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"col s12 m12 l12"},c.a.createElement("div",{class:"row"},this.state.recipeList.map(function(t,a){return c.a.createElement("div",{key:a,class:"col s12 m6 l4 xl3"},c.a.createElement("div",{class:"card"},t.saved?c.a.createElement("p",{className:"badge"},"saved"):null,c.a.createElement("h2",{class:"card-title",onClick:e.selectRecipe,"data-index":a},t.title),c.a.createElement("div",{class:"card-action"},c.a.createElement("button",{"data-index":a,onClick:e.saveRecipe},1==t.saved?"remove":"save"," recipe"))))})))),this.renderModal())}}]),t}(n.Component);var k=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(r.a,null,c.a.createElement(o.c,null,c.a.createElement(o.a,{exact:!0,path:"/",component:O}))))};l.a.render(c.a.createElement(k,null),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.8d5c6651.chunk.js.map